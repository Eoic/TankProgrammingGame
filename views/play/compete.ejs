<!doctype html>
<html lang="en">
    <head>
        <title> Compete </title>
        <% include ../partials/styles %>
    </head>
    <body class="bg-dark-blue full-height" style="overflow: hidden">
        <% include ../partials/navbar %> 
        
        <div class="card w-75 mx-auto mt-5 rounded-0" id="lobby-window">
            <div class="card-header">
                MULTIPLAYER LOBBY
            </div>

            <div class="card-body">
                <button class="btn btn-primary rounded-0 mb-2" id="createGame"> CREATE NEW GAME </button>
                <button class="btn btn-success rounded-0 mb-2" id="updateGamesList"> UPDATE LIST </button>

                <!-- Multiplayer info -->
                <div class="alert alert-primary rounded-0" role="alert">
                    Select game or create a new one.
                </div>

                <!-- Game info -->
                <div class="my-3 no-display" id="created-game-info">
                    <table class="table table-sm table-hover m-0 border" id="gameListTable">
                    <thead class="thead-light">
                        <tr>
                            <th scope="col"> Game ID </th>
                            <th scope="col"> Status </th>
                            <th scope="col"> Players </th>
                            <th scope="col"> </th>
                        </tr>
                    </thead>
                    <tbody>

                        <!-- Auto generated -->
                        <tr>
                            <td id='game-id'> </td>                 <!-- Game id -->
                            <td id='game-status'> </td>             <!-- Players waiting / required -->
                            <td id='game-players'> </td>      <!-- Game host -->
                            <td class="text-right">                 <!-- action -->
                                <button class="btn btn-sm btn-danger rounded-0" style="width: 80px;" id="leaveGame">
                                    LEAVE
                                </button>
                            </td>
                        </tr>
                        <!-- -->
                    </table>
                </div>  
            </div>

            <div class="card-footer text-muted" id="lobby-size">
                <span id="playersCount">0</span> players searching
            </div>
            <i id="user" hidden> <%= name %> </i>
        </div>

        <!-- Where game map should be rendered -->
        <div id="game-view" class="full-height" style="overflow-y: hidden; background-color: #2a2a2a;" onwheel="zoomOnWheel(event)">
            <div id="display"></div>
        </div>

        <% include ../partials/bootstrapjs %>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.1.0/socket.io.js"></script>
        <script src="/js/game/matchmaking.js"></script>
        <script src="./js/game/pixi.min.js"></script>
        <script src="./js/game/game-main-mp.js"></script>
    </body>
</html>